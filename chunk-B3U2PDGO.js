import{a as He,b as Z,c as z,d as $,e as _,f as te,g as Be,h as Le,i as ne,j as Y,k as K,l as X,m as Ne,n as je,o as ze}from"./chunk-QTXN4QD3.js";import{E as Se,I as ke,J as Fe,K as De,L as _e,a as ce,b as de,c as ue,d as fe,e as me,f as ge,g as pe,h as ee,i as ve,j as Ee,k as we,l as Me,m as ye,n as x,o as P,p as Ce,q as be,r as Pe,s as Te,t as xe,u as Oe,v as O,w as Ae,x as Re,y as Ie}from"./chunk-NISSLEO4.js";import"./chunk-NHXDGK5N.js";import"./chunk-KLDHDQ7H.js";import"./chunk-7XFXJMDA.js";import"./chunk-XUH3WQQT.js";import"./chunk-LV4HBK2W.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-FNBMHXHF.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var re={};(function H(y,L,i,n){var l=!!(y.Worker&&y.Blob&&y.Promise&&y.OffscreenCanvas&&y.OffscreenCanvasRenderingContext2D&&y.HTMLCanvasElement&&y.HTMLCanvasElement.prototype.transferControlToOffscreen&&y.URL&&y.URL.createObjectURL),g=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=(function(){if(!y.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var r=t.transferToImageBitmap();try{e.createPattern(r,"no-repeat")}catch{return!1}return!0})();function m(){}function T(t){var e=L.exports.Promise,r=e!==void 0?e:y.Promise;return typeof r=="function"?new r(t):(t(m,m),null)}var S=(function(t,e){return{transform:function(r){if(t)return r;if(e.has(r))return e.get(r);var o=new OffscreenCanvas(r.width,r.height),s=o.getContext("2d");return s.drawImage(r,0,0),e.set(r,o),o},clear:function(){e.clear()}}})(c,new Map),A=(function(){var t=Math.floor(16.666666666666668),e,r,o={},s=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(h){var d=Math.random();return o[d]=requestAnimationFrame(function a(u){s===u||s+t-1<u?(s=u,delete o[d],h()):o[d]=requestAnimationFrame(a)}),d},r=function(h){o[h]&&cancelAnimationFrame(o[h])}):(e=function(h){return setTimeout(h,t)},r=function(h){return clearTimeout(h)}),{frame:e,cancel:r}})(),G=(function(){var t,e,r={};function o(s){function h(d,a){s.postMessage({options:d||{},callback:a})}s.init=function(a){var u=a.transferControlToOffscreen();s.postMessage({canvas:u},[u])},s.fire=function(a,u,p){if(e)return h(a,null),e;var w=Math.random().toString(36).slice(2);return e=T(function(v){function M(C){C.data.callback===w&&(delete r[w],s.removeEventListener("message",M),e=null,S.clear(),p(),v())}s.addEventListener("message",M),h(a,w),r[w]=M.bind(null,{data:{callback:w}})}),e},s.reset=function(){s.postMessage({reset:!0});for(var a in r)r[a](),delete r[a]}}return function(){if(t)return t;if(!i&&l){var s=["var CONFETTI, SIZE = {}, module = {};","("+H.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([s])))}catch(h){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",h),null}o(t)}return t}})(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function F(t,e){return e?e(t):t}function U(t){return t!=null}function E(t,e,r){return F(t&&U(t[e])?t[e]:N[e],r)}function W(t){return t<0?0:Math.floor(t)}function V(t,e){return Math.floor(Math.random()*(e-t))+t}function j(t){return parseInt(t,16)}function q(t){return t.map(Ue)}function Ue(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:j(e.substring(0,2)),g:j(e.substring(2,4)),b:j(e.substring(4,6))}}function We(t){var e=E(t,"origin",Object);return e.x=E(e,"x",Number),e.y=E(e,"y",Number),e}function Ve(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function qe(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function Ze(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function $e(t,e,r,o,s,h,d,a,u){t.save(),t.translate(e,r),t.rotate(h),t.scale(o,s),t.arc(0,0,1,d,a,u),t.restore()}function Ye(t){var e=t.angle*(Math.PI/180),r=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*r-Math.random()*r),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function Ke(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var r=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,s=e.y+e.random*e.tiltSin,h=e.wobbleX+e.random*e.tiltCos,d=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-r)+")",t.beginPath(),g&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(Je(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(h-o)*.1,Math.abs(d-s)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var a=Math.PI/10*e.wobble,u=Math.abs(h-o)*.1,p=Math.abs(d-s)*.1,w=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,M=new DOMMatrix([Math.cos(a)*u,Math.sin(a)*u,-Math.sin(a)*p,Math.cos(a)*p,e.x,e.y]);M.multiplySelf(new DOMMatrix(e.shape.matrix));var C=t.createPattern(S.transform(e.shape.bitmap),"no-repeat");C.setTransform(M),t.globalAlpha=1-r,t.fillStyle=C,t.fillRect(e.x-w/2,e.y-v/2,w,v),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(h-o)*e.ovalScalar,Math.abs(d-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):$e(t,e.x,e.y,Math.abs(h-o)*e.ovalScalar,Math.abs(d-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var f=Math.PI/2*3,b=4*e.scalar,R=8*e.scalar,I=e.x,D=e.y,B=5,k=Math.PI/B;B--;)I=e.x+Math.cos(f)*R,D=e.y+Math.sin(f)*R,t.lineTo(I,D),f+=k,I=e.x+Math.cos(f)*b,D=e.y+Math.sin(f)*b,t.lineTo(I,D),f+=k;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(s)),t.lineTo(Math.floor(h),Math.floor(d)),t.lineTo(Math.floor(o),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function Xe(t,e,r,o,s){var h=e.slice(),d=t.getContext("2d"),a,u,p=T(function(w){function v(){a=u=null,d.clearRect(0,0,o.width,o.height),S.clear(),s(),w()}function M(){i&&!(o.width===n.width&&o.height===n.height)&&(o.width=t.width=n.width,o.height=t.height=n.height),!o.width&&!o.height&&(r(t),o.width=t.width,o.height=t.height),d.clearRect(0,0,o.width,o.height),h=h.filter(function(C){return Ke(d,C)}),h.length?a=A.frame(M):v()}a=A.frame(M),u=v});return{addFettis:function(w){return h=h.concat(w),p},canvas:t,promise:p,reset:function(){a&&A.cancel(a),u&&u()}}}function ie(t,e){var r=!t,o=!!E(e||{},"resize"),s=!1,h=E(e,"disableForReducedMotion",Boolean),d=l&&!!E(e||{},"useWorker"),a=d?G():null,u=r?Ve:qe,p=t&&a?!!t.__confetti_initialized:!1,w=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function M(f,b,R){for(var I=E(f,"particleCount",W),D=E(f,"angle",Number),B=E(f,"spread",Number),k=E(f,"startVelocity",Number),tt=E(f,"decay",Number),nt=E(f,"gravity",Number),rt=E(f,"drift",Number),oe=E(f,"colors",q),it=E(f,"ticks",Number),se=E(f,"shapes"),at=E(f,"scalar"),ot=!!E(f,"flat"),le=We(f),he=I,Q=[],st=t.width*le.x,lt=t.height*le.y;he--;)Q.push(Ye({x:st,y:lt,angle:D,spread:B,startVelocity:k,color:oe[he%oe.length],shape:se[V(0,se.length)],ticks:it,decay:tt,gravity:nt,drift:rt,scalar:at,flat:ot}));return v?v.addFettis(Q):(v=Xe(t,Q,u,b,R),v.promise)}function C(f){var b=h||E(f,"disableForReducedMotion",Boolean),R=E(f,"zIndex",Number);if(b&&w)return T(function(k){k()});r&&v?t=v.canvas:r&&!t&&(t=Ze(R),document.body.appendChild(t)),o&&!p&&u(t);var I={width:t.width,height:t.height};a&&!p&&a.init(t),p=!0,a&&(t.__confetti_initialized=!0);function D(){if(a){var k={getBoundingClientRect:function(){if(!r)return t.getBoundingClientRect()}};u(k),a.postMessage({resize:{width:k.width,height:k.height}});return}I.width=I.height=null}function B(){v=null,o&&(s=!1,y.removeEventListener("resize",D)),r&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,p=!1)}return o&&!s&&(s=!0,y.addEventListener("resize",D,!1)),a?a.fire(f,I,B):M(f,I,B)}return C.reset=function(){a&&a.reset(),v&&v.reset()},C}var J;function ae(){return J||(J=ie(null,{useWorker:!0,resize:!0})),J}function Je(t,e,r,o,s,h,d){var a=new Path2D(t),u=new Path2D;u.addPath(a,new DOMMatrix(e));var p=new Path2D;return p.addPath(u,new DOMMatrix([Math.cos(d)*s,Math.sin(d)*s,-Math.sin(d)*h,Math.cos(d)*h,r,o])),p}function Qe(t){if(!g)throw new Error("path confetti are not supported in this browser");var e,r;typeof t=="string"?e=t:(e=t.path,r=t.matrix);var o=new Path2D(e),s=document.createElement("canvas"),h=s.getContext("2d");if(!r){for(var d=1e3,a=d,u=d,p=0,w=0,v,M,C=0;C<d;C+=2)for(var f=0;f<d;f+=2)h.isPointInPath(o,C,f,"nonzero")&&(a=Math.min(a,C),u=Math.min(u,f),p=Math.max(p,C),w=Math.max(w,f));v=p-a,M=w-u;var b=10,R=Math.min(b/v,b/M);r=[R,0,0,R,-Math.round(v/2+a)*R,-Math.round(M/2+u)*R]}return{type:"path",path:e,matrix:r}}function et(t){var e,r=1,o="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,r="scalar"in t?t.scalar:r,s="fontFamily"in t?t.fontFamily:s,o="color"in t?t.color:o);var h=10*r,d=""+h+"px "+s,a=new OffscreenCanvas(h,h),u=a.getContext("2d");u.font=d;var p=u.measureText(e),w=Math.ceil(p.actualBoundingBoxRight+p.actualBoundingBoxLeft),v=Math.ceil(p.actualBoundingBoxAscent+p.actualBoundingBoxDescent),M=2,C=p.actualBoundingBoxLeft+M,f=p.actualBoundingBoxAscent+M;w+=M+M,v+=M+M,a=new OffscreenCanvas(w,v),u=a.getContext("2d"),u.font=d,u.fillStyle=o,u.fillText(e,C,f);var b=1/r;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[b,0,0,b,-w*b/2,-v*b/2]}}L.exports=function(){return ae().apply(this,arguments)},L.exports.reset=function(){ae().reset()},L.exports.create=ie,L.exports.shapeFromPath=Qe,L.exports.shapeFromText=et})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),re,!1);var Ge=re.exports,dt=re.exports.create;var ht=["rendererContainer"];function ct(H,y){H&1&&(x(0,"div",10),O(1," \u{1F449} Glisse horizontalement pour d\xE9couvrir ton souhait ! ( droite -----> gauche ) "),P())}var Ct=(()=>{let y=class y{constructor(i){this.ngZone=i,this.animationId=0,this.spine=new z,this.BOOK_WIDTH=2.4,this.BOOK_HEIGHT=1.6,this.PAGE_THICK=.02,this.backgroundAudio=new Audio("assets/victory-nomination.mp3"),this.isOpen=!1,this.showHint=!0,this.targetAngle=0,this.currentAngle=Math.PI/2,this.isPointerDown=!1,this.pointerStartX=0,this.startAngle=0,this.fullText='\u2728 AIDER LES JEUNES C"EST RENFORCER LES BASES DE NOTRE NATION \u2728 FONDATION INTERFACE \u2728 Georges Roots Hyppolite \u2728',this.typing$=null,this.destroy$=new ce,this.typingSpeed=80,this.animate=()=>{this.animationId=requestAnimationFrame(this.animate);let n=this.targetAngle-this.currentAngle;this.currentAngle+=n*.15,Math.abs(n)<5e-4&&(this.currentAngle=this.targetAngle),this.applyAngle(this.currentAngle);let l=performance.now()*.002;if(this.spine.rotation.y=Math.sin(l)*.1,this.spine.rotation.x=Math.sin(l*.6)*.01,this.textPlane){let g=Date.now()*.001;this.textPlane.position.x=Math.sin(g)*2.5}this.renderer.render(this.scene,this.camera)},this.onPointerDown=n=>{this.isPointerDown=!0,this.pointerStartX=n.clientX,this.startAngle=this.currentAngle},this.onPointerMove=n=>{if(!this.isPointerDown)return;let l=n.clientX-this.pointerStartX,g=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,c=l/g*Math.PI,m=this.startAngle-c;this.setOpenAngle(m,!1)},this.onPointerUp=n=>{this.isPointerDown&&(this.isPointerDown=!1,this.currentAngle>Math.PI/4?(this.isOpen=!0,this.showHint=!1,this.setOpenAngle(Math.PI/2)):(this.isOpen=!1,this.setOpenAngle(0)))},this.onResize=()=>{let n=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,l=this.rendererContainer.nativeElement.clientHeight||window.innerHeight;this.camera.aspect=n/l,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,l)}}addAnimatedBackground(){new X().load("assets/Comp\xE9tition.png",n=>{let l=new Y(20,7),g=new $({map:n}),c=new _(l,g);c.position.set(0,0,-2),this.scene.add(c),this.backgroundPlane=c})}addAnimatedTextBackground(){let i=document.createElement("canvas");i.width=1024,i.height=256;let n=i.getContext("2d");n.fillStyle="black",n.fillRect(0,0,i.width,i.height),n.font="bold 60px Arial",n.fillStyle="white",n.textAlign="center",n.fillText("AIDER LES JEUNES C'EST RENFORCER LES BASES DE NOTRE NATION.",i.width/2,150);let l=new ne(i),g=new Y(10,2.5),c=new $({map:l,transparent:!0});this.textPlane=new _(g,c),this.textPlane.position.set(0,0,-2),this.scene.add(this.textPlane)}ngAfterViewInit(){this.initScene(),this.loadBookTexturesAndBuild(),this.animate(),window.addEventListener("resize",this.onResize),this.rendererContainer.nativeElement.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)}ngOnInit(){this.addAnimatedTextBackground(),this.backgroundAudio.loop=!0,this.backgroundAudio.volume=.4,this.startTyping()}startTyping(){let i=this.fullText.length;this.typing$=ue(this.typingSpeed).pipe(fe(i+1),de(n=>this.fullText.slice(0,n)),me(this.destroy$))}stopTyping(){this.destroy$.next()}ngOnDestroy(){cancelAnimationFrame(this.animationId),window.removeEventListener("resize",this.onResize),this.rendererContainer.nativeElement.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this.renderer?.dispose(),this.stopFireworks(),this.destroy$.next(),this.destroy$.complete()}initScene(){let i=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,n=this.rendererContainer.nativeElement.clientHeight||window.innerHeight;this.scene=new Le,new X().load("assets/Comp\xE9tition.png",m=>{let T=new Y(3.5,2.5),S=new $({map:m}),A=new _(T,S);A.position.set(0,0,-2),this.scene.add(A)}),this.camera=new Be(70,i/n,.1,100),this.camera.position.set(0,-.9,3.5),this.camera.lookAt(0,0,0),this.renderer=new ze({antialias:!0,alpha:!0}),this.renderer.setSize(i,n),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement);let g=new je(16777215,.6);this.scene.add(g);let c=new Ne(16777215,.8);c.position.set(5,5,5),this.scene.add(c),this.spine.position.set(0,0,0),this.scene.add(this.spine)}loadBookTexturesAndBuild(){let i=new X,n={coverFront:"assets/image4.jpeg",coverBack:"assets/image3.jpeg",pageLeft:"assets/image2.jpeg",pageRight:"assets/image1.jpeg"};Promise.all([this.loadTextureSafe(i,n.coverFront),this.loadTextureSafe(i,n.coverBack),this.loadTextureSafe(i,n.pageLeft),this.loadTextureSafe(i,n.pageRight)]).then(([l,g,c,m])=>{this.buildBook(l,g,c,m)})}loadTextureSafe(i,n){return new Promise(l=>{i.load(n,g=>{g.anisotropy=4,l(g)},void 0,()=>l(null))})}buildBook(i,n,l,g){let c=this.BOOK_WIDTH/2,m=this.BOOK_HEIGHT,T=this.PAGE_THICK,S=`AIDER LES JEUNES 
 C'EST RENFORCER LES BASES DE NOTRE NATION.
 La quatri\xE8me \xE9dition du championnat interscolaire  
  de Taekwondo de l'Artibonite vient de s'achever. 
 Le succ\xE8s dont il est couronn\xE9 ne serait pas possible 
 sans la contribution des athl\xE8tes, des supporteurs 
 et des donateurs. 
 La FONDATION INTERFACE les en remercie 
 et leur exprime sa plus profonde gratitude.`,A=`Encore une fois, 
  l'exp\xE9rience a mis le sport au centre d'une mobilisation 
  de ressources et de bonnes volont\xE9s pour permettre \xE0 
 des jeunes  de notre d\xE9partement de s'\xE9panouir et  
 d'affiner leur art. C'est pourquoi votre support a \xE9t\xE9 
 d\xE9terminant.Merci.
 Georges Roots Hyppolite.`,G=this.createMaterialFromImageAndText(l,S),N=this.createMaterialFromImageAndText(g,A),U=i?this.createMaterialFromImageAndText(i,"Carte de V\u0153ux"):new K({color:9109504,side:Z}),E=n?this.createMaterialFromImageAndText(n,`De la part de
 #AllenFamily`):new K({color:3355443,side:Z}),W=new z;this.rightCoverPivot=new z,this.rightCoverPivot.position.set(0,0,0),W.add(this.rightCoverPivot);let V=new te(c,m,T);this.rightCover=new _(V,U),this.rightCover.position.set(c/2,0,0),this.rightCoverPivot.add(this.rightCover);let j=new te(c-.02,m-.02,T/2);this.rightPage=new _(j,N),this.rightPage.position.set(c/2,0,T+.001),this.rightCoverPivot.add(this.rightPage);let q=new z;this.leftCoverPivot=new z,this.leftCoverPivot.position.set(0,0,0),q.add(this.leftCoverPivot),this.leftCover=new _(V,E),this.leftCover.position.set(-c/2,0,0),this.leftCoverPivot.add(this.leftCover),this.leftPage=new _(j,G),this.leftPage.position.set(-c/2,0,T+.001),this.leftCoverPivot.add(this.leftPage),this.spine.add(W),this.spine.add(q),this.setOpenAngle(2*Math.PI,!1)}setOpenAngle(i,n=!0){this.targetAngle=Math.max(0,Math.min(Math.PI/2,i)),n||(this.currentAngle=this.targetAngle,this.applyAngle(this.currentAngle),console.log(this.currentAngle),this.currentAngle!=Math.PI*0&&(this.startFireworks(),console.log("hdhdhdhdhdhdhdhdhdhdhdhdh"),this.backgroundAudio.currentTime=0,this.backgroundAudio.play().catch(l=>console.warn("Audio play failed",l))),this.currentAngle==Math.PI/2&&(this.stopFireworks(),console.log("Angle PI/2"),this.backgroundAudio.pause()))}applyAngle(i){!this.rightCoverPivot||!this.leftCoverPivot||(this.rightCoverPivot.rotation.y=-i,this.leftCoverPivot.rotation.y=i)}toggleOpen(){this.isOpen=!this.isOpen,this.showHint=!1,this.setOpenAngle(this.isOpen?Math.PI/2:0)}composeImageAndTextTexture(i,n,l=1024,g=512){let c=document.createElement("canvas");c.width=l,c.height=g;let m=c.getContext("2d");if(i&&(i.image instanceof HTMLImageElement||i.image instanceof ImageBitmap))try{m.drawImage(i.image,0,0,c.width,c.height)}catch{m.fillStyle="#fff8dc",m.fillRect(0,0,c.width,c.height)}else{let F=m.createLinearGradient(0,0,c.width,c.height);F.addColorStop(0,"#fff8dc"),F.addColorStop(1,"#ffe4c4"),m.fillStyle=F,m.fillRect(0,0,c.width,c.height)}m.strokeStyle="rgba(0,0,0,0.06)",m.lineWidth=12,m.strokeRect(10,10,c.width-20,c.height-20),m.fillStyle="#8B0000";let T=n.split(`
`),S=Math.floor(l/30);m.font=`bold ${S}px "Georgia", serif`,m.textAlign="center",m.textBaseline="middle",m.shadowColor="rgba(0,0,0,0.25)",m.shadowOffsetX=3,m.shadowOffsetY=3,m.shadowBlur=6;let A=S*1.2,G=g/2-(T.length-1)*A/2;T.forEach((F,U)=>{m.fillText(F,l/2,G+U*A)});let N=new ne(c);return N.needsUpdate=!0,N}createMaterialFromImageAndText(i,n,l=!0){let g=this.composeImageAndTextTexture(i,n);return new K({map:g,side:l?Z:He,roughness:.7,metalness:.05})}startFireworks(){this.stopFireworks(),this.fireworksInterval=setInterval(()=>{this.launchFireworks()},1e3)}stopFireworks(){this.fireworksInterval&&(clearInterval(this.fireworksInterval),this.fireworksInterval=null)}launchFireworks(){function i(n,l){Ge(Object.assign({},l,{particleCount:Math.floor(150*n)}))}i(.25,{spread:26,startVelocity:55,angle:60,origin:{x:.2,y:.8}}),i(.2,{spread:60,angle:120,origin:{x:.8,y:.8}}),i(.35,{spread:100,decay:.91,scalar:1.2,angle:90,origin:{x:.5,y:1}}),i(.1,{spread:120,startVelocity:25,angle:Math.random()*360,origin:{x:Math.random(),y:Math.random()*.5}})}};y.\u0275fac=function(n){return new(n||y)(ve(Me))},y.\u0275cmp=Ee({type:y,selectors:[["app-three-book"]],viewQuery:function(n,l){if(n&1&&Te(ht,7),n&2){let g;xe(g=Oe())&&(l.rendererContainer=g.first)}},decls:31,vars:2,consts:[["rendererContainer",""],["fullscreen",""],[1,"emoji-background"],[1,"emoji"],["class","hint",4,"ngIf"],[1,"controls"],["ion-button","",3,"click"],[1,"scroll-container"],[1,"scroll-text"],["id","rendererContainer"],[1,"hint"]],template:function(n,l){if(n&1){let g=be();x(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),O(3,"Alexim71 Dev"),P()()(),x(4,"ion-content",1)(5,"div",2)(6,"span",3),O(7,"\u{1F389}"),P(),x(8,"span",3),O(9,"\u2728"),P(),x(10,"span",3),O(11,"\u{1F3C6}"),P(),x(12,"span",3),O(13,"\u{1F94B}"),P(),x(14,"span",3),O(15,"\u{1F4AA}"),P(),x(16,"span",3),O(17,"\u{1F31F}"),P(),x(18,"span",3),O(19,"\u{1F3AF}"),P(),x(20,"span",3),O(21,"\u{1F947}"),P()(),we(22,ct,2,0,"div",4),x(23,"div",5)(24,"button",6),Pe("click",function(){return ge(g),pe(l.toggleOpen())}),O(25),P()(),x(26,"div",7)(27,"div",8),O(28," \u{1F31F} AIDER LES JEUNES C'EST RENFORCER LES BASES DE NOTRE NATION \u2728 INTERFACE Sport \u2728 Georges Roots Hyppolite \u{1F31F} "),P()(),Ce(29,"div",9,0),P()}n&2&&(ee(22),ye("ngIf",l.showHint),ee(3),Ae(l.isOpen?"Fermer":"Ouvrir"))},dependencies:[ke,Fe,De,_e,Ie,Re,Se],styles:['@charset "UTF-8";[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #111}[_nghost-%COMP%]   #rendererContainer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;touch-action:none}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{--background: rgba(255,255,255,.12);color:#fff;border:1px solid rgba(255,255,255,.12);padding:6px 10px;border-radius:6px;top:8px;right:12px}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:15%;left:50%;transform:translate(-50%);background:#0009;color:#fff;padding:12px 16px;border-radius:8px;font-size:.95rem;text-align:center;max-width:90%;z-index:10;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%) scale(1)}50%{transform:translate(-50%) scale(1.05)}to{transform:translate(-50%) scale(1)}}ion-content[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:radial-gradient(circle,#fdfbfb,#ebedee)}.emoji[_ngcontent-%COMP%]{position:absolute;font-size:2rem;left:50%;top:70%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_explode linear forwards;opacity:.9}@keyframes _ngcontent-%COMP%_explode{0%{transform:translate(-50%,-50%) scale(.5);opacity:1}to{transform:var(--move) scale(1.5);opacity:0}}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: transparent;color:#fff}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.controls[_ngcontent-%COMP%]{position:absolute;top:8px;right:12px;z-index:10}[_nghost-%COMP%]{display:block;height:100vh}.renderer-container[_ngcontent-%COMP%]{position:relative;z-index:1;height:100%}ion-content[_ngcontent-%COMP%]{height:100%;position:relative}.emoji-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0;pointer-events:none;overflow:hidden}.emoji[_ngcontent-%COMP%]{position:absolute;font-size:2.5rem;opacity:0;animation:_ngcontent-%COMP%_floatEmoji 8s linear infinite}.emoji[_ngcontent-%COMP%]:nth-child(1){left:10%;animation-delay:0s}.emoji[_ngcontent-%COMP%]:nth-child(2){left:30%;animation-delay:1s}.emoji[_ngcontent-%COMP%]:nth-child(3){left:50%;animation-delay:2s}.emoji[_ngcontent-%COMP%]:nth-child(4){left:70%;animation-delay:3s}.emoji[_ngcontent-%COMP%]:nth-child(5){left:20%;animation-delay:4s}.emoji[_ngcontent-%COMP%]:nth-child(6){left:40%;animation-delay:5s}.emoji[_ngcontent-%COMP%]:nth-child(7){left:60%;animation-delay:6s}.emoji[_ngcontent-%COMP%]:nth-child(8){left:80%;animation-delay:7s}@keyframes _ngcontent-%COMP%_floatEmoji{0%{transform:translateY(100%) scale(.5) rotate(0);opacity:0}10%{opacity:1;transform:translateY(70%) scale(1) rotate(15deg)}40%{transform:translateY(50%) scale(1.1) rotate(-10deg)}60%{transform:translateY(30%) scale(1) rotate(5deg)}80%{transform:translateY(10%) scale(.9) rotate(-5deg);opacity:.8}to{transform:translateY(-10%) scale(.8) rotate(0);opacity:0}}.scroll-container[_ngcontent-%COMP%]{position:absolute;top:80px;left:50%;width:100%;overflow:hidden;white-space:nowrap;z-index:9999}.scroll-text[_ngcontent-%COMP%]{display:inline-block;font-size:1.2rem;font-weight:700;color:#fff;padding-left:100%;animation:_ngcontent-%COMP%_scroll-left 15s linear infinite;text-shadow:0 0 10px rgba(255,255,255,.7)}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(0)}to{transform:translate(-100%)}}']});let H=y;return H})();export{Ct as ThreeBookPage};
