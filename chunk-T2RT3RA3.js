import{a as Ae,b as K,c as L,d as ee,e as H,f as te,g as Oe,h as Re,i as ke,j as ne,k as Z,l as X,m as Se,n as Fe,o as He}from"./chunk-QTXN4QD3.js";import{B as Pe,C as Te,D as xe,E as Ie,a as ce,b as de,c as J,d as ue,e as fe,f as ge,g as z,h as W,i as Y,j as me,k as pe,l as ve,m as we,n as Me,o as q,p as be,q as Ee,r as ye,x as Ce}from"./chunk-DGULZJMR.js";import"./chunk-NHXDGK5N.js";import"./chunk-KLDHDQ7H.js";import"./chunk-7XFXJMDA.js";import"./chunk-XUH3WQQT.js";import"./chunk-LV4HBK2W.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-FNBMHXHF.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var re={};(function S(E,B,r,i){var s=!!(E.Worker&&E.Blob&&E.Promise&&E.OffscreenCanvas&&E.OffscreenCanvasRenderingContext2D&&E.HTMLCanvasElement&&E.HTMLCanvasElement.prototype.transferControlToOffscreen&&E.URL&&E.URL.createObjectURL),g=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!E.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var n=t.transferToImageBitmap();try{e.createPattern(n,"no-repeat")}catch{return!1}return!0})();function m(){}function C(t){var e=B.exports.Promise,n=e!==void 0?e:E.Promise;return typeof n=="function"?new n(t):(t(m,m),null)}var T=(function(t,e){return{transform:function(n){if(t)return n;if(e.has(n))return e.get(n);var o=new OffscreenCanvas(n.width,n.height),l=o.getContext("2d");return l.drawImage(n,0,0),e.set(n,o),o},clear:function(){e.clear()}}})(h,new Map),x=(function(){var t=Math.floor(16.666666666666668),e,n,o={},l=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(c){var d=Math.random();return o[d]=requestAnimationFrame(function a(u){l===u||l+t-1<u?(l=u,delete o[d],c()):o[d]=requestAnimationFrame(a)}),d},n=function(c){o[c]&&cancelAnimationFrame(o[c])}):(e=function(c){return setTimeout(c,t)},n=function(c){return clearTimeout(c)}),{frame:e,cancel:n}})(),j=(function(){var t,e,n={};function o(l){function c(d,a){l.postMessage({options:d||{},callback:a})}l.init=function(a){var u=a.transferControlToOffscreen();l.postMessage({canvas:u},[u])},l.fire=function(a,u,p){if(e)return c(a,null),e;var M=Math.random().toString(36).slice(2);return e=C(function(v){function b(y){y.data.callback===M&&(delete n[M],l.removeEventListener("message",b),e=null,T.clear(),p(),v())}l.addEventListener("message",b),c(a,M),n[M]=b.bind(null,{data:{callback:M}})}),e},l.reset=function(){l.postMessage({reset:!0});for(var a in n)n[a](),delete n[a]}}return function(){if(t)return t;if(!r&&s){var l=["var CONFETTI, SIZE = {}, module = {};","("+S.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([l])))}catch(c){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",c),null}o(t)}return t}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(t,e){return e?e(t):t}function N(t){return t!=null}function w(t,e,n){return R(t&&N(t[e])?t[e]:_[e],n)}function G(t){return t<0?0:Math.floor(t)}function U(t,e){return Math.floor(Math.random()*(e-t))+t}function D(t){return parseInt(t,16)}function V(t){return t.map(_e)}function _e(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:D(e.substring(0,2)),g:D(e.substring(2,4)),b:D(e.substring(4,6))}}function De(t){var e=w(t,"origin",Object);return e.x=w(e,"x",Number),e.y=w(e,"y",Number),e}function Le(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function je(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function Ne(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function ze(t,e,n,o,l,c,d,a,u){t.save(),t.translate(e,n),t.rotate(c),t.scale(o,l),t.arc(0,0,1,d,a,u),t.restore()}function We(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function Ge(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,l=e.y+e.random*e.tiltSin,c=e.wobbleX+e.random*e.tiltCos,d=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),g&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(Ve(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(c-o)*.1,Math.abs(d-l)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var a=Math.PI/10*e.wobble,u=Math.abs(c-o)*.1,p=Math.abs(d-l)*.1,M=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,b=new DOMMatrix([Math.cos(a)*u,Math.sin(a)*u,-Math.sin(a)*p,Math.cos(a)*p,e.x,e.y]);b.multiplySelf(new DOMMatrix(e.shape.matrix));var y=t.createPattern(T.transform(e.shape.bitmap),"no-repeat");y.setTransform(b),t.globalAlpha=1-n,t.fillStyle=y,t.fillRect(e.x-M/2,e.y-v/2,M,v),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(c-o)*e.ovalScalar,Math.abs(d-l)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ze(t,e.x,e.y,Math.abs(c-o)*e.ovalScalar,Math.abs(d-l)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var f=Math.PI/2*3,P=4*e.scalar,I=8*e.scalar,A=e.x,k=e.y,F=5,O=Math.PI/F;F--;)A=e.x+Math.cos(f)*I,k=e.y+Math.sin(f)*I,t.lineTo(A,k),f+=O,A=e.x+Math.cos(f)*P,k=e.y+Math.sin(f)*P,t.lineTo(A,k),f+=O;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(l)),t.lineTo(Math.floor(c),Math.floor(d)),t.lineTo(Math.floor(o),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function Ue(t,e,n,o,l){var c=e.slice(),d=t.getContext("2d"),a,u,p=C(function(M){function v(){a=u=null,d.clearRect(0,0,o.width,o.height),T.clear(),l(),M()}function b(){r&&!(o.width===i.width&&o.height===i.height)&&(o.width=t.width=i.width,o.height=t.height=i.height),!o.width&&!o.height&&(n(t),o.width=t.width,o.height=t.height),d.clearRect(0,0,o.width,o.height),c=c.filter(function(y){return Ge(d,y)}),c.length?a=x.frame(b):v()}a=x.frame(b),u=v});return{addFettis:function(M){return c=c.concat(M),p},canvas:t,promise:p,reset:function(){a&&x.cancel(a),u&&u()}}}function ae(t,e){var n=!t,o=!!w(e||{},"resize"),l=!1,c=w(e,"disableForReducedMotion",Boolean),d=s&&!!w(e||{},"useWorker"),a=d?j():null,u=n?Le:je,p=t&&a?!!t.__confetti_initialized:!1,M=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function b(f,P,I){for(var A=w(f,"particleCount",G),k=w(f,"angle",Number),F=w(f,"spread",Number),O=w(f,"startVelocity",Number),Ze=w(f,"decay",Number),Xe=w(f,"gravity",Number),Qe=w(f,"drift",Number),oe=w(f,"colors",V),$e=w(f,"ticks",Number),se=w(f,"shapes"),Je=w(f,"scalar"),Ye=!!w(f,"flat"),le=De(f),he=A,$=[],et=t.width*le.x,tt=t.height*le.y;he--;)$.push(We({x:et,y:tt,angle:k,spread:F,startVelocity:O,color:oe[he%oe.length],shape:se[U(0,se.length)],ticks:$e,decay:Ze,gravity:Xe,drift:Qe,scalar:Je,flat:Ye}));return v?v.addFettis($):(v=Ue(t,$,u,P,I),v.promise)}function y(f){var P=c||w(f,"disableForReducedMotion",Boolean),I=w(f,"zIndex",Number);if(P&&M)return C(function(O){O()});n&&v?t=v.canvas:n&&!t&&(t=Ne(I),document.body.appendChild(t)),o&&!p&&u(t);var A={width:t.width,height:t.height};a&&!p&&a.init(t),p=!0,a&&(t.__confetti_initialized=!0);function k(){if(a){var O={getBoundingClientRect:function(){if(!n)return t.getBoundingClientRect()}};u(O),a.postMessage({resize:{width:O.width,height:O.height}});return}A.width=A.height=null}function F(){v=null,o&&(l=!1,E.removeEventListener("resize",k)),n&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,p=!1)}return o&&!l&&(l=!0,E.addEventListener("resize",k,!1)),a?a.fire(f,A,F):b(f,A,F)}return y.reset=function(){a&&a.reset(),v&&v.reset()},y}var Q;function ie(){return Q||(Q=ae(null,{useWorker:!0,resize:!0})),Q}function Ve(t,e,n,o,l,c,d){var a=new Path2D(t),u=new Path2D;u.addPath(a,new DOMMatrix(e));var p=new Path2D;return p.addPath(u,new DOMMatrix([Math.cos(d)*l,Math.sin(d)*l,-Math.sin(d)*c,Math.cos(d)*c,n,o])),p}function qe(t){if(!g)throw new Error("path confetti are not supported in this browser");var e,n;typeof t=="string"?e=t:(e=t.path,n=t.matrix);var o=new Path2D(e),l=document.createElement("canvas"),c=l.getContext("2d");if(!n){for(var d=1e3,a=d,u=d,p=0,M=0,v,b,y=0;y<d;y+=2)for(var f=0;f<d;f+=2)c.isPointInPath(o,y,f,"nonzero")&&(a=Math.min(a,y),u=Math.min(u,f),p=Math.max(p,y),M=Math.max(M,f));v=p-a,b=M-u;var P=10,I=Math.min(P/v,P/b);n=[I,0,0,I,-Math.round(v/2+a)*I,-Math.round(b/2+u)*I]}return{type:"path",path:e,matrix:n}}function Ke(t){var e,n=1,o="#000000",l='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,n="scalar"in t?t.scalar:n,l="fontFamily"in t?t.fontFamily:l,o="color"in t?t.color:o);var c=10*n,d=""+c+"px "+l,a=new OffscreenCanvas(c,c),u=a.getContext("2d");u.font=d;var p=u.measureText(e),M=Math.ceil(p.actualBoundingBoxRight+p.actualBoundingBoxLeft),v=Math.ceil(p.actualBoundingBoxAscent+p.actualBoundingBoxDescent),b=2,y=p.actualBoundingBoxLeft+b,f=p.actualBoundingBoxAscent+b;M+=b+b,v+=b+b,a=new OffscreenCanvas(M,v),u=a.getContext("2d"),u.font=d,u.fillStyle=o,u.fillText(e,y,f);var P=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[P,0,0,P,-M*P/2,-v*P/2]}}B.exports=function(){return ie().apply(this,arguments)},B.exports.reset=function(){ie().reset()},B.exports.create=ae,B.exports.shapeFromPath=qe,B.exports.shapeFromText=Ke})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),re,!1);var Be=re.exports,at=re.exports.create;var nt=["rendererContainer"];function rt(S,E){S&1&&(z(0,"div",7),q(1," \u{1F449} Glisse horizontalement pour d\xE9couvrir ton souhait ! ( droite -----> gauche ) "),W())}var ft=(()=>{let E=class E{constructor(){this.animationId=0,this.spine=new L,this.BOOK_WIDTH=2.4,this.BOOK_HEIGHT=1.6,this.PAGE_THICK=.02,this.emojis=["\u{1F389}","\u2728","\u{1F382}","\u{1F381}","\u{1F31F}","\u{1F496}","\u{1F3B6}"],this.backgroundAudio=new Audio("assets/happy-birthday.mp3"),this.isOpen=!1,this.showHint=!0,this.targetAngle=0,this.currentAngle=Math.PI/2,this.isPointerDown=!1,this.pointerStartX=0,this.startAngle=0,this.animate=()=>{this.animationId=requestAnimationFrame(this.animate);let r=this.targetAngle-this.currentAngle;this.currentAngle+=r*.15,Math.abs(r)<5e-4&&(this.currentAngle=this.targetAngle),this.applyAngle(this.currentAngle);let i=performance.now()*.002;if(this.spine.rotation.y=Math.sin(i)*.1,this.spine.rotation.x=Math.sin(i*.6)*.01,this.backgroundPlane){let s=Date.now()*.001,g=1+Math.sin(s)*.05;this.backgroundPlane.scale.set(g,g,1),this.backgroundPlane.material.opacity=.8+Math.sin(s*2)*.2,this.backgroundPlane.material.transparent=!0}this.renderer.render(this.scene,this.camera)},this.onPointerDown=r=>{this.isPointerDown=!0,this.pointerStartX=r.clientX,this.startAngle=this.currentAngle},this.onPointerMove=r=>{if(!this.isPointerDown)return;let i=r.clientX-this.pointerStartX,s=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,g=i/s*Math.PI,h=this.startAngle-g;this.setOpenAngle(h,!1)},this.onPointerUp=r=>{this.isPointerDown&&(this.isPointerDown=!1,this.currentAngle>Math.PI/4?(this.isOpen=!0,this.showHint=!1,this.setOpenAngle(Math.PI/2)):(this.isOpen=!1,this.setOpenAngle(0)))},this.onResize=()=>{let r=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,i=this.rendererContainer.nativeElement.clientHeight||window.innerHeight;this.camera.aspect=r/i,this.camera.updateProjectionMatrix(),this.renderer.setSize(r,i)}}addAnimatedBackground(){new X().load("assets/interfaceSport.jpg",i=>{let s=new ne(10,7),g=new ee({map:i}),h=new H(s,g);h.position.set(0,0,-2),this.scene.add(h),this.backgroundPlane=h})}ngAfterViewInit(){this.initScene(),this.loadBookTexturesAndBuild(),this.animate(),window.addEventListener("resize",this.onResize),this.rendererContainer.nativeElement.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)}ngOnInit(){this.startFireworkss(),this.backgroundAudio.loop=!0,this.backgroundAudio.volume=.4}startFireworkss(){let r=document.getElementById("emoji-container");setInterval(()=>{for(let i=0;i<10;i++){let s=document.createElement("span");s.classList.add("emoji"),s.textContent=this.emojis[Math.floor(Math.random()*this.emojis.length)];let g=Math.random()*2*Math.PI,h=100+Math.random()*150,m=Math.cos(g)*h,C=Math.sin(g)*h;s.style.setProperty("--move",`translate(${m}px, ${C}px)`);let T=1.2+Math.random();s.style.animationDuration=`${T}s`,r?.appendChild(s),setTimeout(()=>s.remove(),T*1e3)}},2e3)}ngOnDestroy(){cancelAnimationFrame(this.animationId),window.removeEventListener("resize",this.onResize),this.rendererContainer.nativeElement.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this.renderer?.dispose(),this.stopFireworks()}initScene(){let r=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,i=this.rendererContainer.nativeElement.clientHeight||window.innerHeight;this.scene=new Re,new X().load("assets/interfaceSport.jpg",m=>{let C=new ne(3,2),T=new ee({map:m}),x=new H(C,T);x.position.set(0,0,-2),this.scene.add(x)}),this.camera=new Oe(60,r/i,.1,100),this.camera.position.set(0,-.9,3.5),this.camera.lookAt(0,0,0),this.renderer=new He({antialias:!0,alpha:!0}),this.renderer.setSize(r,i),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement);let g=new Fe(16777215,.6);this.scene.add(g);let h=new Se(16777215,.8);h.position.set(5,5,5),this.scene.add(h),this.spine.position.set(0,0,0),this.scene.add(this.spine)}loadBookTexturesAndBuild(){let r=new X,i={coverFront:"assets/image4.jpeg",coverBack:"assets/image3.jpeg",pageLeft:"assets/image2.jpeg",pageRight:"assets/image1.jpeg"};Promise.all([this.loadTextureSafe(r,i.coverFront),this.loadTextureSafe(r,i.coverBack),this.loadTextureSafe(r,i.pageLeft),this.loadTextureSafe(r,i.pageRight)]).then(([s,g,h,m])=>{this.buildBook(s,g,h,m)})}loadTextureSafe(r,i){return new Promise(s=>{r.load(i,g=>{g.anisotropy=4,s(g)},void 0,()=>s(null))})}buildBook(r,i,s,g){let h=this.BOOK_WIDTH/2,m=this.BOOK_HEIGHT,C=this.PAGE_THICK,T=`AIDER LES JEUNES 
 C'EST RENFORCER LES BASES DE NOTRE NATION.
 La quatri\xE8me \xE9dition du championnat interscolaire  
  de Taekwondo de l'Artibonite vient de s'achever. 
 Le succ\xE8s dont il est couronn\xE9 ne serait pas possible 
 sans la contribution des athl\xE8tes, des supporteurs 
 et des donateurs. 
 La FONDATION INTERFACE les en remercie 
 et leur exprime sa plus profonde gratitude.`,x=`Encore une fois, 
  l'exp\xE9rience a mis le sport au centre d'une mobilisation 
  de ressources et de bonnes volont\xE9s pour permettre \xE0 
 des jeunes  de notre d\xE9partement de s'\xE9panouir et  
 d'affiner leur art. C'est pourquoi votre support a \xE9t\xE9 
 d\xE9terminant.Merci.
 Georges Roots Hyppolite.`,j=this.createMaterialFromImageAndText(s,T),_=this.createMaterialFromImageAndText(g,x),N=r?this.createMaterialFromImageAndText(r,"Carte de V\u0153ux"):new Z({color:9109504,side:K}),w=i?this.createMaterialFromImageAndText(i,`De la part de
 #AllenFamily`):new Z({color:3355443,side:K}),G=new L;this.rightCoverPivot=new L,this.rightCoverPivot.position.set(0,0,0),G.add(this.rightCoverPivot);let U=new te(h,m,C);this.rightCover=new H(U,N),this.rightCover.position.set(h/2,0,0),this.rightCoverPivot.add(this.rightCover);let D=new te(h-.02,m-.02,C/2);this.rightPage=new H(D,_),this.rightPage.position.set(h/2,0,C+.001),this.rightCoverPivot.add(this.rightPage);let V=new L;this.leftCoverPivot=new L,this.leftCoverPivot.position.set(0,0,0),V.add(this.leftCoverPivot),this.leftCover=new H(U,w),this.leftCover.position.set(-h/2,0,0),this.leftCoverPivot.add(this.leftCover),this.leftPage=new H(D,j),this.leftPage.position.set(-h/2,0,C+.001),this.leftCoverPivot.add(this.leftPage),this.spine.add(G),this.spine.add(V),this.setOpenAngle(2*Math.PI,!1)}setOpenAngle(r,i=!0){this.targetAngle=Math.max(0,Math.min(Math.PI/2,r)),i||(this.currentAngle=this.targetAngle,this.applyAngle(this.currentAngle),console.log(this.currentAngle),this.currentAngle!=Math.PI*0&&(this.startFireworks(),console.log("hdhdhdhdhdhdhdhdhdhdhdhdh"),this.backgroundAudio.currentTime=0,this.backgroundAudio.play().catch(s=>console.warn("Audio play failed",s))),this.currentAngle==Math.PI/2&&(this.stopFireworks(),console.log("Angle PI/2"),this.backgroundAudio.pause()))}applyAngle(r){!this.rightCoverPivot||!this.leftCoverPivot||(this.rightCoverPivot.rotation.y=-r,this.leftCoverPivot.rotation.y=r)}toggleOpen(){this.isOpen=!this.isOpen,this.showHint=!1,this.setOpenAngle(this.isOpen?Math.PI/2:0)}composeImageAndTextTexture(r,i,s=1024,g=512){let h=document.createElement("canvas");h.width=s,h.height=g;let m=h.getContext("2d");if(r&&(r.image instanceof HTMLImageElement||r.image instanceof ImageBitmap))try{m.drawImage(r.image,0,0,h.width,h.height)}catch{m.fillStyle="#fff8dc",m.fillRect(0,0,h.width,h.height)}else{let R=m.createLinearGradient(0,0,h.width,h.height);R.addColorStop(0,"#fff8dc"),R.addColorStop(1,"#ffe4c4"),m.fillStyle=R,m.fillRect(0,0,h.width,h.height)}m.strokeStyle="rgba(0,0,0,0.06)",m.lineWidth=12,m.strokeRect(10,10,h.width-20,h.height-20),m.fillStyle="#8B0000";let C=i.split(`
`),T=Math.floor(s/30);m.font=`bold ${T}px "Georgia", serif`,m.textAlign="center",m.textBaseline="middle",m.shadowColor="rgba(0,0,0,0.25)",m.shadowOffsetX=3,m.shadowOffsetY=3,m.shadowBlur=6;let x=T*1.2,j=g/2-(C.length-1)*x/2;C.forEach((R,N)=>{m.fillText(R,s/2,j+N*x)});let _=new ke(h);return _.needsUpdate=!0,_}createMaterialFromImageAndText(r,i,s=!0){let g=this.composeImageAndTextTexture(r,i);return new Z({map:g,side:s?K:Ae,roughness:.7,metalness:.05})}startFireworks(){this.stopFireworks(),this.fireworksInterval=setInterval(()=>{this.launchFireworks()},1e3)}stopFireworks(){this.fireworksInterval&&(clearInterval(this.fireworksInterval),this.fireworksInterval=null)}launchFireworks(){function r(i,s){Be(Object.assign({},s,{particleCount:Math.floor(150*i)}))}r(.25,{spread:26,startVelocity:55,angle:60,origin:{x:.2,y:.8}}),r(.2,{spread:60,angle:120,origin:{x:.8,y:.8}}),r(.35,{spread:100,decay:.91,scalar:1.2,angle:90,origin:{x:.5,y:1}}),r(.1,{spread:120,startVelocity:25,angle:Math.random()*360,origin:{x:Math.random(),y:Math.random()*.5}})}};E.\u0275fac=function(i){return new(i||E)},E.\u0275cmp=ue({type:E,selectors:[["app-three-book"]],viewQuery:function(i,s){if(i&1&&ve(nt,7),i&2){let g;we(g=Me())&&(s.rendererContainer=g.first)}},decls:12,vars:2,consts:[["rendererContainer",""],["fullscreen",""],["id","emoji-container"],["class","hint",4,"ngIf"],[1,"controls"],["ion-button","",3,"click"],["id","rendererContainer"],[1,"hint"]],template:function(i,s){if(i&1){let g=me();z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),q(3,"Alexim71 Dev"),W()()(),z(4,"ion-content",1),Y(5,"div",2),fe(6,rt,2,0,"div",3),z(7,"div",4)(8,"button",5),pe("click",function(){return ce(g),de(s.toggleOpen())}),q(9),W()(),Y(10,"div",6,0),W()}i&2&&(J(6),ge("ngIf",s.showHint),J(3),be(s.isOpen?"Fermer":"Ouvrir"))},dependencies:[Pe,Te,xe,Ie,ye,Ee,Ce],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #111}[_nghost-%COMP%]   #rendererContainer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;touch-action:none}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{--background: rgba(255,255,255,.12);color:#fff;border:1px solid rgba(255,255,255,.12);padding:6px 10px;border-radius:6px;top:8px;right:12px}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:15%;left:50%;transform:translate(-50%);background:#0009;color:#fff;padding:12px 16px;border-radius:8px;font-size:.95rem;text-align:center;max-width:90%;z-index:10;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%) scale(1)}50%{transform:translate(-50%) scale(1.05)}to{transform:translate(-50%) scale(1)}}ion-content[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:radial-gradient(circle,#fdfbfb,#ebedee)}.emoji[_ngcontent-%COMP%]{position:absolute;font-size:2rem;left:50%;top:70%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_explode linear forwards;opacity:.9}@keyframes _ngcontent-%COMP%_explode{0%{transform:translate(-50%,-50%) scale(.5);opacity:1}to{transform:var(--move) scale(1.5);opacity:0}}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: transparent;color:#fff}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.controls[_ngcontent-%COMP%]{position:absolute;top:8px;right:12px;z-index:10}"]});let S=E;return S})();export{ft as ThreeBookPage};
