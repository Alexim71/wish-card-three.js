import{a as Ie,b as Y,c as z,d as K,e as D,f as ne,g as Re,h as Se,i as re,j as Z,k as X,l as Q,m as ke,n as Fe,o as _e}from"./chunk-QTXN4QD3.js";import{B as xe,C as Te,D as Oe,E as Ae,a as ce,b as ue,c as ee,d as me,e as fe,f as ge,g as T,h as O,i as te,j as pe,k as ve,l as Me,m as we,n as Ee,o as A,p as ye,q as be,r as Ce,x as Pe}from"./chunk-DGULZJMR.js";import"./chunk-NHXDGK5N.js";import"./chunk-KLDHDQ7H.js";import"./chunk-7XFXJMDA.js";import"./chunk-XUH3WQQT.js";import"./chunk-LV4HBK2W.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-FNBMHXHF.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var ie={};(function H(y,j,n,r){var s=!!(y.Worker&&y.Blob&&y.Promise&&y.OffscreenCanvas&&y.OffscreenCanvasRenderingContext2D&&y.HTMLCanvasElement&&y.HTMLCanvasElement.prototype.transferControlToOffscreen&&y.URL&&y.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!y.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var i=t.transferToImageBitmap();try{e.createPattern(i,"no-repeat")}catch{return!1}return!0})();function g(){}function C(t){var e=j.exports.Promise,i=e!==void 0?e:y.Promise;return typeof i=="function"?new i(t):(t(g,g),null)}var x=(function(t,e){return{transform:function(i){if(t)return i;if(e.has(i))return e.get(i);var o=new OffscreenCanvas(i.width,i.height),h=o.getContext("2d");return h.drawImage(i,0,0),e.set(i,o),o},clear:function(){e.clear()}}})(l,new Map),I=(function(){var t=Math.floor(16.666666666666668),e,i,o={},h=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(d){var c=Math.random();return o[c]=requestAnimationFrame(function a(u){h===u||h+t-1<u?(h=u,delete o[c],d()):o[c]=requestAnimationFrame(a)}),c},i=function(d){o[d]&&cancelAnimationFrame(o[d])}):(e=function(d){return setTimeout(d,t)},i=function(d){return clearTimeout(d)}),{frame:e,cancel:i}})(),W=(function(){var t,e,i={};function o(h){function d(c,a){h.postMessage({options:c||{},callback:a})}h.init=function(a){var u=a.transferControlToOffscreen();h.postMessage({canvas:u},[u])},h.fire=function(a,u,p){if(e)return d(a,null),e;var w=Math.random().toString(36).slice(2);return e=C(function(v){function E(b){b.data.callback===w&&(delete i[w],h.removeEventListener("message",E),e=null,x.clear(),p(),v())}h.addEventListener("message",E),d(a,w),i[w]=E.bind(null,{data:{callback:w}})}),e},h.reset=function(){h.postMessage({reset:!0});for(var a in i)i[a](),delete i[a]}}return function(){if(t)return t;if(!n&&s){var h=["var CONFETTI, SIZE = {}, module = {};","("+H.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([h])))}catch(d){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",d),null}o(t)}return t}})(),L={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function F(t,e){return e?e(t):t}function G(t){return t!=null}function M(t,e,i){return F(t&&G(t[e])?t[e]:L[e],i)}function U(t){return t<0?0:Math.floor(t)}function V(t,e){return Math.floor(Math.random()*(e-t))+t}function N(t){return parseInt(t,16)}function q(t){return t.map(He)}function He(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:N(e.substring(0,2)),g:N(e.substring(2,4)),b:N(e.substring(4,6))}}function Be(t){var e=M(t,"origin",Object);return e.x=M(e,"x",Number),e.y=M(e,"y",Number),e}function je(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function Le(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function Ne(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function ze(t,e,i,o,h,d,c,a,u){t.save(),t.translate(e,i),t.rotate(d),t.scale(o,h),t.arc(0,0,1,c,a,u),t.restore()}function We(t){var e=t.angle*(Math.PI/180),i=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*i-Math.random()*i),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function Ge(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var i=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,h=e.y+e.random*e.tiltSin,d=e.wobbleX+e.random*e.tiltCos,c=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-i)+")",t.beginPath(),f&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(Ve(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(d-o)*.1,Math.abs(c-h)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var a=Math.PI/10*e.wobble,u=Math.abs(d-o)*.1,p=Math.abs(c-h)*.1,w=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,E=new DOMMatrix([Math.cos(a)*u,Math.sin(a)*u,-Math.sin(a)*p,Math.cos(a)*p,e.x,e.y]);E.multiplySelf(new DOMMatrix(e.shape.matrix));var b=t.createPattern(x.transform(e.shape.bitmap),"no-repeat");b.setTransform(E),t.globalAlpha=1-i,t.fillStyle=b,t.fillRect(e.x-w/2,e.y-v/2,w,v),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(d-o)*e.ovalScalar,Math.abs(c-h)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ze(t,e.x,e.y,Math.abs(d-o)*e.ovalScalar,Math.abs(c-h)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var m=Math.PI/2*3,P=4*e.scalar,R=8*e.scalar,S=e.x,_=e.y,B=5,k=Math.PI/B;B--;)S=e.x+Math.cos(m)*R,_=e.y+Math.sin(m)*R,t.lineTo(S,_),m+=k,S=e.x+Math.cos(m)*P,_=e.y+Math.sin(m)*P,t.lineTo(S,_),m+=k;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(h)),t.lineTo(Math.floor(d),Math.floor(c)),t.lineTo(Math.floor(o),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function Ue(t,e,i,o,h){var d=e.slice(),c=t.getContext("2d"),a,u,p=C(function(w){function v(){a=u=null,c.clearRect(0,0,o.width,o.height),x.clear(),h(),w()}function E(){n&&!(o.width===r.width&&o.height===r.height)&&(o.width=t.width=r.width,o.height=t.height=r.height),!o.width&&!o.height&&(i(t),o.width=t.width,o.height=t.height),c.clearRect(0,0,o.width,o.height),d=d.filter(function(b){return Ge(c,b)}),d.length?a=I.frame(E):v()}a=I.frame(E),u=v});return{addFettis:function(w){return d=d.concat(w),p},canvas:t,promise:p,reset:function(){a&&I.cancel(a),u&&u()}}}function ae(t,e){var i=!t,o=!!M(e||{},"resize"),h=!1,d=M(e,"disableForReducedMotion",Boolean),c=s&&!!M(e||{},"useWorker"),a=c?W():null,u=i?je:Le,p=t&&a?!!t.__confetti_initialized:!1,w=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function E(m,P,R){for(var S=M(m,"particleCount",U),_=M(m,"angle",Number),B=M(m,"spread",Number),k=M(m,"startVelocity",Number),Ke=M(m,"decay",Number),Ze=M(m,"gravity",Number),Xe=M(m,"drift",Number),se=M(m,"colors",q),Qe=M(m,"ticks",Number),le=M(m,"shapes"),$e=M(m,"scalar"),Je=!!M(m,"flat"),he=Be(m),de=S,J=[],et=t.width*he.x,tt=t.height*he.y;de--;)J.push(We({x:et,y:tt,angle:_,spread:B,startVelocity:k,color:se[de%se.length],shape:le[V(0,le.length)],ticks:Qe,decay:Ke,gravity:Ze,drift:Xe,scalar:$e,flat:Je}));return v?v.addFettis(J):(v=Ue(t,J,u,P,R),v.promise)}function b(m){var P=d||M(m,"disableForReducedMotion",Boolean),R=M(m,"zIndex",Number);if(P&&w)return C(function(k){k()});i&&v?t=v.canvas:i&&!t&&(t=Ne(R),document.body.appendChild(t)),o&&!p&&u(t);var S={width:t.width,height:t.height};a&&!p&&a.init(t),p=!0,a&&(t.__confetti_initialized=!0);function _(){if(a){var k={getBoundingClientRect:function(){if(!i)return t.getBoundingClientRect()}};u(k),a.postMessage({resize:{width:k.width,height:k.height}});return}S.width=S.height=null}function B(){v=null,o&&(h=!1,y.removeEventListener("resize",_)),i&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,p=!1)}return o&&!h&&(h=!0,y.addEventListener("resize",_,!1)),a?a.fire(m,S,B):E(m,S,B)}return b.reset=function(){a&&a.reset(),v&&v.reset()},b}var $;function oe(){return $||($=ae(null,{useWorker:!0,resize:!0})),$}function Ve(t,e,i,o,h,d,c){var a=new Path2D(t),u=new Path2D;u.addPath(a,new DOMMatrix(e));var p=new Path2D;return p.addPath(u,new DOMMatrix([Math.cos(c)*h,Math.sin(c)*h,-Math.sin(c)*d,Math.cos(c)*d,i,o])),p}function qe(t){if(!f)throw new Error("path confetti are not supported in this browser");var e,i;typeof t=="string"?e=t:(e=t.path,i=t.matrix);var o=new Path2D(e),h=document.createElement("canvas"),d=h.getContext("2d");if(!i){for(var c=1e3,a=c,u=c,p=0,w=0,v,E,b=0;b<c;b+=2)for(var m=0;m<c;m+=2)d.isPointInPath(o,b,m,"nonzero")&&(a=Math.min(a,b),u=Math.min(u,m),p=Math.max(p,b),w=Math.max(w,m));v=p-a,E=w-u;var P=10,R=Math.min(P/v,P/E);i=[R,0,0,R,-Math.round(v/2+a)*R,-Math.round(E/2+u)*R]}return{type:"path",path:e,matrix:i}}function Ye(t){var e,i=1,o="#000000",h='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,i="scalar"in t?t.scalar:i,h="fontFamily"in t?t.fontFamily:h,o="color"in t?t.color:o);var d=10*i,c=""+d+"px "+h,a=new OffscreenCanvas(d,d),u=a.getContext("2d");u.font=c;var p=u.measureText(e),w=Math.ceil(p.actualBoundingBoxRight+p.actualBoundingBoxLeft),v=Math.ceil(p.actualBoundingBoxAscent+p.actualBoundingBoxDescent),E=2,b=p.actualBoundingBoxLeft+E,m=p.actualBoundingBoxAscent+E;w+=E+E,v+=E+E,a=new OffscreenCanvas(w,v),u=a.getContext("2d"),u.font=c,u.fillStyle=o,u.fillText(e,b,m);var P=1/i;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[P,0,0,P,-w*P/2,-v*P/2]}}j.exports=function(){return oe().apply(this,arguments)},j.exports.reset=function(){oe().reset()},j.exports.create=ae,j.exports.shapeFromPath=qe,j.exports.shapeFromText=Ye})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ie,!1);var De=ie.exports,it=ie.exports.create;var nt=["rendererContainer"];function rt(H,y){H&1&&(T(0,"div",9),A(1," \u{1F449} Glisse horizontalement pour d\xE9couvrir ton souhait ! ( droite -----> gauche ) "),O())}var mt=(()=>{let y=class y{constructor(){this.animationId=0,this.spine=new z,this.BOOK_WIDTH=2.4,this.BOOK_HEIGHT=1.6,this.PAGE_THICK=.02,this.emojis=["\u{1F389}","\u2728","\u{1F382}","\u{1F381}","\u{1F31F}","\u{1F496}","\u{1F3B6}"],this.backgroundAudio=new Audio("assets/happy-birthday.mp3"),this.isOpen=!1,this.showHint=!0,this.targetAngle=0,this.currentAngle=Math.PI/2,this.isPointerDown=!1,this.pointerStartX=0,this.startAngle=0,this.animate=()=>{this.animationId=requestAnimationFrame(this.animate);let n=this.targetAngle-this.currentAngle;this.currentAngle+=n*.15,Math.abs(n)<5e-4&&(this.currentAngle=this.targetAngle),this.applyAngle(this.currentAngle);let r=performance.now()*.002;if(this.spine.rotation.y=Math.sin(r)*.1,this.spine.rotation.x=Math.sin(r*.6)*.01,this.textPlane){let s=Date.now()*.001;this.textPlane.position.x=Math.sin(s)*2.5}this.renderer.render(this.scene,this.camera)},this.onPointerDown=n=>{this.isPointerDown=!0,this.pointerStartX=n.clientX,this.startAngle=this.currentAngle},this.onPointerMove=n=>{if(!this.isPointerDown)return;let r=n.clientX-this.pointerStartX,s=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,f=r/s*Math.PI,l=this.startAngle-f;this.setOpenAngle(l,!1)},this.onPointerUp=n=>{this.isPointerDown&&(this.isPointerDown=!1,this.currentAngle>Math.PI/4?(this.isOpen=!0,this.showHint=!1,this.setOpenAngle(Math.PI/2)):(this.isOpen=!1,this.setOpenAngle(0)))},this.onResize=()=>{let n=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,r=this.rendererContainer.nativeElement.clientHeight||window.innerHeight;this.camera.aspect=n/r,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,r)}}addAnimatedBackground(){new Q().load("assets/interfaceSport.jpg",r=>{let s=new Z(10,7),f=new K({map:r}),l=new D(s,f);l.position.set(0,0,-2),this.scene.add(l),this.backgroundPlane=l})}addAnimatedTextBackground(){let n=document.createElement("canvas");n.width=1024,n.height=256;let r=n.getContext("2d");r.fillStyle="black",r.fillRect(0,0,n.width,n.height),r.font="bold 60px Arial",r.fillStyle="white",r.textAlign="center",r.fillText("AIDER LES JEUNES C'EST RENFORCER LES BASES DE NOTRE NATION.",n.width/2,150);let s=new re(n),f=new Z(10,2.5),l=new K({map:s,transparent:!0});this.textPlane=new D(f,l),this.textPlane.position.set(0,0,-2),this.scene.add(this.textPlane)}ngAfterViewInit(){this.initScene(),this.loadBookTexturesAndBuild(),this.animate(),window.addEventListener("resize",this.onResize),this.rendererContainer.nativeElement.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)}ngOnInit(){this.startFireworkss(),this.addAnimatedTextBackground(),this.backgroundAudio.loop=!0,this.backgroundAudio.volume=.4}startFireworkss(){let n=document.getElementById("emoji-container");setInterval(()=>{for(let r=0;r<10;r++){let s=document.createElement("span");s.classList.add("emoji"),s.textContent=this.emojis[Math.floor(Math.random()*this.emojis.length)];let f=Math.random()*2*Math.PI,l=100+Math.random()*150,g=Math.cos(f)*l,C=Math.sin(f)*l;s.style.setProperty("--move",`translate(${g}px, ${C}px)`);let x=1.2+Math.random();s.style.animationDuration=`${x}s`,n?.appendChild(s),setTimeout(()=>s.remove(),x*1e3)}},2e3)}ngOnDestroy(){cancelAnimationFrame(this.animationId),window.removeEventListener("resize",this.onResize),this.rendererContainer.nativeElement.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this.renderer?.dispose(),this.stopFireworks()}initScene(){let n=this.rendererContainer.nativeElement.clientWidth||window.innerWidth,r=this.rendererContainer.nativeElement.clientHeight||window.innerHeight;this.scene=new Se,new Q().load("assets/interfaceSport.jpg",g=>{let C=new Z(3.5,2.5),x=new K({map:g}),I=new D(C,x);I.position.set(0,0,-2),this.scene.add(I)}),this.camera=new Re(70,n/r,.1,100),this.camera.position.set(0,-.9,3.5),this.camera.lookAt(0,0,0),this.renderer=new _e({antialias:!0,alpha:!0}),this.renderer.setSize(n,r),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement);let f=new Fe(16777215,.6);this.scene.add(f);let l=new ke(16777215,.8);l.position.set(5,5,5),this.scene.add(l),this.spine.position.set(0,0,0),this.scene.add(this.spine)}loadBookTexturesAndBuild(){let n=new Q,r={coverFront:"assets/image4.jpeg",coverBack:"assets/image3.jpeg",pageLeft:"assets/image2.jpeg",pageRight:"assets/image1.jpeg"};Promise.all([this.loadTextureSafe(n,r.coverFront),this.loadTextureSafe(n,r.coverBack),this.loadTextureSafe(n,r.pageLeft),this.loadTextureSafe(n,r.pageRight)]).then(([s,f,l,g])=>{this.buildBook(s,f,l,g)})}loadTextureSafe(n,r){return new Promise(s=>{n.load(r,f=>{f.anisotropy=4,s(f)},void 0,()=>s(null))})}buildBook(n,r,s,f){let l=this.BOOK_WIDTH/2,g=this.BOOK_HEIGHT,C=this.PAGE_THICK,x=`AIDER LES JEUNES 
 C'EST RENFORCER LES BASES DE NOTRE NATION.
 La quatri\xE8me \xE9dition du championnat interscolaire  
  de Taekwondo de l'Artibonite vient de s'achever. 
 Le succ\xE8s dont il est couronn\xE9 ne serait pas possible 
 sans la contribution des athl\xE8tes, des supporteurs 
 et des donateurs. 
 La FONDATION INTERFACE les en remercie 
 et leur exprime sa plus profonde gratitude.`,I=`Encore une fois, 
  l'exp\xE9rience a mis le sport au centre d'une mobilisation 
  de ressources et de bonnes volont\xE9s pour permettre \xE0 
 des jeunes  de notre d\xE9partement de s'\xE9panouir et  
 d'affiner leur art. C'est pourquoi votre support a \xE9t\xE9 
 d\xE9terminant.Merci.
 Georges Roots Hyppolite.`,W=this.createMaterialFromImageAndText(s,x),L=this.createMaterialFromImageAndText(f,I),G=n?this.createMaterialFromImageAndText(n,"Carte de V\u0153ux"):new X({color:9109504,side:Y}),M=r?this.createMaterialFromImageAndText(r,`De la part de
 #AllenFamily`):new X({color:3355443,side:Y}),U=new z;this.rightCoverPivot=new z,this.rightCoverPivot.position.set(0,0,0),U.add(this.rightCoverPivot);let V=new ne(l,g,C);this.rightCover=new D(V,G),this.rightCover.position.set(l/2,0,0),this.rightCoverPivot.add(this.rightCover);let N=new ne(l-.02,g-.02,C/2);this.rightPage=new D(N,L),this.rightPage.position.set(l/2,0,C+.001),this.rightCoverPivot.add(this.rightPage);let q=new z;this.leftCoverPivot=new z,this.leftCoverPivot.position.set(0,0,0),q.add(this.leftCoverPivot),this.leftCover=new D(V,M),this.leftCover.position.set(-l/2,0,0),this.leftCoverPivot.add(this.leftCover),this.leftPage=new D(N,W),this.leftPage.position.set(-l/2,0,C+.001),this.leftCoverPivot.add(this.leftPage),this.spine.add(U),this.spine.add(q),this.setOpenAngle(2*Math.PI,!1)}setOpenAngle(n,r=!0){this.targetAngle=Math.max(0,Math.min(Math.PI/2,n)),r||(this.currentAngle=this.targetAngle,this.applyAngle(this.currentAngle),console.log(this.currentAngle),this.currentAngle!=Math.PI*0&&(this.startFireworks(),console.log("hdhdhdhdhdhdhdhdhdhdhdhdh"),this.backgroundAudio.currentTime=0,this.backgroundAudio.play().catch(s=>console.warn("Audio play failed",s))),this.currentAngle==Math.PI/2&&(this.stopFireworks(),console.log("Angle PI/2"),this.backgroundAudio.pause()))}applyAngle(n){!this.rightCoverPivot||!this.leftCoverPivot||(this.rightCoverPivot.rotation.y=-n,this.leftCoverPivot.rotation.y=n)}toggleOpen(){this.isOpen=!this.isOpen,this.showHint=!1,this.setOpenAngle(this.isOpen?Math.PI/2:0)}composeImageAndTextTexture(n,r,s=1024,f=512){let l=document.createElement("canvas");l.width=s,l.height=f;let g=l.getContext("2d");if(n&&(n.image instanceof HTMLImageElement||n.image instanceof ImageBitmap))try{g.drawImage(n.image,0,0,l.width,l.height)}catch{g.fillStyle="#fff8dc",g.fillRect(0,0,l.width,l.height)}else{let F=g.createLinearGradient(0,0,l.width,l.height);F.addColorStop(0,"#fff8dc"),F.addColorStop(1,"#ffe4c4"),g.fillStyle=F,g.fillRect(0,0,l.width,l.height)}g.strokeStyle="rgba(0,0,0,0.06)",g.lineWidth=12,g.strokeRect(10,10,l.width-20,l.height-20),g.fillStyle="#8B0000";let C=r.split(`
`),x=Math.floor(s/30);g.font=`bold ${x}px "Georgia", serif`,g.textAlign="center",g.textBaseline="middle",g.shadowColor="rgba(0,0,0,0.25)",g.shadowOffsetX=3,g.shadowOffsetY=3,g.shadowBlur=6;let I=x*1.2,W=f/2-(C.length-1)*I/2;C.forEach((F,G)=>{g.fillText(F,s/2,W+G*I)});let L=new re(l);return L.needsUpdate=!0,L}createMaterialFromImageAndText(n,r,s=!0){let f=this.composeImageAndTextTexture(n,r);return new X({map:f,side:s?Y:Ie,roughness:.7,metalness:.05})}startFireworks(){this.stopFireworks(),this.fireworksInterval=setInterval(()=>{this.launchFireworks()},1e3)}stopFireworks(){this.fireworksInterval&&(clearInterval(this.fireworksInterval),this.fireworksInterval=null)}launchFireworks(){function n(r,s){De(Object.assign({},s,{particleCount:Math.floor(150*r)}))}n(.25,{spread:26,startVelocity:55,angle:60,origin:{x:.2,y:.8}}),n(.2,{spread:60,angle:120,origin:{x:.8,y:.8}}),n(.35,{spread:100,decay:.91,scalar:1.2,angle:90,origin:{x:.5,y:1}}),n(.1,{spread:120,startVelocity:25,angle:Math.random()*360,origin:{x:Math.random(),y:Math.random()*.5}})}};y.\u0275fac=function(r){return new(r||y)},y.\u0275cmp=me({type:y,selectors:[["app-three-book"]],viewQuery:function(r,s){if(r&1&&Me(nt,7),r&2){let f;we(f=Ee())&&(s.rendererContainer=f.first)}},decls:29,vars:2,consts:[["rendererContainer",""],["fullscreen",""],["id","emoji-container"],[1,"emoji-background"],[1,"emoji"],["class","hint",4,"ngIf"],[1,"controls"],["ion-button","",3,"click"],["id","rendererContainer"],[1,"hint"]],template:function(r,s){if(r&1){let f=pe();T(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),A(3,"Alexim71 Dev"),O()()(),T(4,"ion-content",1),te(5,"div",2),T(6,"div",3)(7,"span",4),A(8,"\u{1F389}"),O(),T(9,"span",4),A(10,"\u2728"),O(),T(11,"span",4),A(12,"\u{1F3C6}"),O(),T(13,"span",4),A(14,"\u{1F94B}"),O(),T(15,"span",4),A(16,"\u{1F4AA}"),O(),T(17,"span",4),A(18,"\u{1F31F}"),O(),T(19,"span",4),A(20,"\u{1F3AF}"),O(),T(21,"span",4),A(22,"\u{1F947}"),O()(),fe(23,rt,2,0,"div",5),T(24,"div",6)(25,"button",7),ve("click",function(){return ce(f),ue(s.toggleOpen())}),A(26),O()(),te(27,"div",8,0),O()}r&2&&(ee(23),ge("ngIf",s.showHint),ee(3),ye(s.isOpen?"Fermer":"Ouvrir"))},dependencies:[xe,Te,Oe,Ae,Ce,be,Pe],styles:['@charset "UTF-8";[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #111}[_nghost-%COMP%]   #rendererContainer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;touch-action:none}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{--background: rgba(255,255,255,.12);color:#fff;border:1px solid rgba(255,255,255,.12);padding:6px 10px;border-radius:6px;top:8px;right:12px}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:15%;left:50%;transform:translate(-50%);background:#0009;color:#fff;padding:12px 16px;border-radius:8px;font-size:.95rem;text-align:center;max-width:90%;z-index:10;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%) scale(1)}50%{transform:translate(-50%) scale(1.05)}to{transform:translate(-50%) scale(1)}}ion-content[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:radial-gradient(circle,#fdfbfb,#ebedee)}.emoji[_ngcontent-%COMP%]{position:absolute;font-size:2rem;left:50%;top:70%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_explode linear forwards;opacity:.9}@keyframes _ngcontent-%COMP%_explode{0%{transform:translate(-50%,-50%) scale(.5);opacity:1}to{transform:var(--move) scale(1.5);opacity:0}}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: transparent;color:#fff}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.controls[_ngcontent-%COMP%]{position:absolute;top:8px;right:12px;z-index:10}[_nghost-%COMP%]{display:block;height:100vh}.renderer-container[_ngcontent-%COMP%]{position:relative;z-index:1;height:100%}ion-content[_ngcontent-%COMP%]{height:100%;position:relative}.emoji-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0;pointer-events:none;overflow:hidden}.emoji[_ngcontent-%COMP%]{position:absolute;font-size:2.5rem;opacity:0;animation:_ngcontent-%COMP%_floatEmoji 8s linear infinite}.emoji[_ngcontent-%COMP%]:nth-child(1){left:10%;animation-delay:0s}.emoji[_ngcontent-%COMP%]:nth-child(2){left:30%;animation-delay:1s}.emoji[_ngcontent-%COMP%]:nth-child(3){left:50%;animation-delay:2s}.emoji[_ngcontent-%COMP%]:nth-child(4){left:70%;animation-delay:3s}.emoji[_ngcontent-%COMP%]:nth-child(5){left:20%;animation-delay:4s}.emoji[_ngcontent-%COMP%]:nth-child(6){left:40%;animation-delay:5s}.emoji[_ngcontent-%COMP%]:nth-child(7){left:60%;animation-delay:6s}.emoji[_ngcontent-%COMP%]:nth-child(8){left:80%;animation-delay:7s}@keyframes _ngcontent-%COMP%_floatEmoji{0%{transform:translateY(100%) scale(.5) rotate(0);opacity:0}10%{opacity:1;transform:translateY(70%) scale(1) rotate(15deg)}40%{transform:translateY(50%) scale(1.1) rotate(-10deg)}60%{transform:translateY(30%) scale(1) rotate(5deg)}80%{transform:translateY(10%) scale(.9) rotate(-5deg);opacity:.8}to{transform:translateY(-10%) scale(.8) rotate(0);opacity:0}}']});let H=y;return H})();export{mt as ThreeBookPage};
